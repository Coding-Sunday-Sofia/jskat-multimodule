plugins {
	id "com.github.johnrengelman.shadow" version "1.2.3"
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.10'
}

allprojects {
	repositories {
	    mavenCentral()
	}
}

allprojects {
	apply plugin: 'java'
	apply plugin: 'eclipse'
	apply plugin: 'idea'
	
	task sourcesJar(type: Jar, dependsOn: classes) {
	    classifier = 'sources'
	    from sourceSets.main.allSource
	}

	task javadocJar(type: Jar, dependsOn: javadoc) {
	    classifier = 'javadoc'
	    from javadoc.destinationDir
	}

	artifacts {
	    archives sourcesJar
	    archives javadocJar
	}
}

dependencies {
	compile project(':jskat-base')
	compile project(':jskat-swing-gui')
	compile project(':jskat-javafx-gui')
}

version = '0.16.0'

jar {
    manifest {
        attributes 'Implementation-Title': 'JSkat',
                   'Implementation-Version': version,
                   'Main-Class': 'org.jskat.JSkatFX'
    }
}

shadowJar {
	baseName = 'JSkat'
	classifier = ''
}